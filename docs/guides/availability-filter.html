<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Availability Filter - JT Power Tools</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/png" href="../favicon.png">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><img src="../850icon.png" alt="JT Power Tools"> JT <span>POWER TOOLS</span></h1>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../documentation.html">Docs</a>
                <a href="../index.html#pricing">Pricing</a>
                <a href="../changelog.html">Changelog</a>
                <a href="../roadmap.html">Roadmap</a>
            </div>
        </div>
    </nav>

    <div class="guide-container">
        <div class="guide-header">
            <h1><span class="icon">üîç</span> Availability Filter</h1>
            <p class="guide-meta">Pro Feature - Filter Assignees in Schedule Availability View</p>
        </div>

        <div class="guide-content">
            <h2>Overview</h2>
            <p>Availability Filter lets you filter assignees in JobTread's Schedule Availability view by role, department, or category. Instead of scrolling through every person in your organization, quickly narrow down the view to just the crew members, vendors, or roles you need to see. Save your favorite filter configurations as reusable views for instant recall.</p>

            <div class="info-box premium">
                <strong>Pro Feature</strong>
                <p>Availability Filter requires a Pro or Power User subscription. <a href="premium.html">Learn about pricing tiers</a>.</p>
            </div>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Hierarchical Filtering</strong> - Expandable category dropdowns with individual assignee toggles</li>
                <li><strong>Category Detection</strong> - Automatically detects INTERNAL, VENDOR, and other categories from your schedule</li>
                <li><strong>Role-Based Filtering</strong> - Filter INTERNAL staff by role (e.g., "01 Field", "02 Project Supervisor")</li>
                <li><strong>Vendor Filtering</strong> - Filter vendors by company name</li>
                <li><strong>Saved Views</strong> - Save and load filter configurations with custom names</li>
                <li><strong>Partial State Indicator</strong> - Dashed border shows when some but not all children in a category are selected</li>
                <li><strong>Count Badges</strong> - See at a glance how many assignees are visible per category (e.g., "3/12")</li>
                <li><strong>Quick Actions</strong> - "Show All" and "Hide All" buttons for fast toggling</li>
                <li><strong>Persistent Selections</strong> - Filter choices sync across sessions via Chrome storage</li>
                <li><strong>Smooth Animations</strong> - Filtered rows collapse smoothly instead of disappearing abruptly</li>
                <li><strong>Dark Mode & Custom Theme Support</strong> - Full compatibility with all JT Power Tools themes</li>
            </ul>

            <h2>How It Works</h2>

            <h3>Category Detection</h3>
            <p>When you navigate to the Schedule Availability view, the filter automatically scans for category headers (displayed in orange text) and builds a hierarchical filter panel:</p>
            <ul>
                <li><strong>INTERNAL</strong> - Groups staff by their assigned role (e.g., "01 Field", "02 Project Supervisor")</li>
                <li><strong>VENDOR</strong> - Groups by vendor company name</li>
                <li><strong>Other Categories</strong> - Groups by individual assignee name</li>
            </ul>

            <h3>Hierarchical Structure</h3>
            <p>Each category acts as a parent toggle with expandable children:</p>
            <ul>
                <li>Clicking a <strong>category chip</strong> toggles all assignees within that category on or off</li>
                <li>Clicking an <strong>individual assignee chip</strong> toggles just that one person or role</li>
                <li>The category chip shows a <strong>partial state</strong> (dashed border) when only some children are selected</li>
                <li>A <strong>count badge</strong> (e.g., "3/12") shows how many are visible out of total</li>
            </ul>

            <h3>Filtering Behavior</h3>
            <ul>
                <li>Filtered-out rows collapse with a smooth animation rather than disappearing instantly</li>
                <li>Visible rows get a blue left border highlight so you can see what's actively filtered</li>
                <li>The filter re-applies automatically when the page updates (e.g., when schedule data loads)</li>
            </ul>

            <h2>Supported Pages</h2>

            <p>Availability Filter works exclusively on the <strong>Schedule Availability view</strong> in JobTread:</p>
            <ul>
                <li><strong>Schedule page</strong> with the "Availability" view selected</li>
                <li>The filter panel automatically hides when you navigate away from the Availability view</li>
                <li>It reappears when you return to Availability</li>
            </ul>

            <div class="info-box tip">
                <strong>Note</strong>
                <p>This feature only appears when you're on the Schedule page with "Availability" selected as the view mode. It will not show on other views like Month, Week, or Gantt.</p>
            </div>

            <h2>Getting Started</h2>

            <ol class="steps">
                <li>
                    <strong>Enable the Feature</strong><br>
                    Open the JT Power Tools popup and enable "Availability Filter" under the Schedule & Calendar category
                </li>
                <li>
                    <strong>Navigate to Schedule Availability</strong><br>
                    Go to any job's Schedule page and switch to the Availability view
                </li>
                <li>
                    <strong>Open the Filter Panel</strong><br>
                    Click the "Filter Assignees" header bar that appears above the availability grid to expand it (it starts collapsed by default)
                </li>
                <li>
                    <strong>Toggle Categories or Individuals</strong><br>
                    Click category chips (like INTERNAL or VENDOR) to toggle entire groups, or expand a category and click individual assignee chips
                </li>
                <li>
                    <strong>Save Your View (Optional)</strong><br>
                    Click the "Views" button, then "Save Current View" to save your filter configuration with a custom name for quick recall later
                </li>
            </ol>

            <h2>Saved Views</h2>

            <p>Saved Views let you store and quickly switch between different filter configurations:</p>

            <h3>Saving a View</h3>
            <ol class="steps">
                <li>Set up your desired filter (toggle categories and assignees on/off)</li>
                <li>Click the <strong>"Views"</strong> button in the filter header</li>
                <li>Click <strong>"Save Current View"</strong> at the bottom of the dropdown</li>
                <li>Enter a name (e.g., "Field Crew Only", "Vendors", "Project Leads")</li>
            </ol>

            <h3>Loading a Saved View</h3>
            <ol class="steps">
                <li>Click the <strong>"Views"</strong> button</li>
                <li>Click any saved view name to instantly apply that filter configuration</li>
            </ol>

            <h3>Deleting a Saved View</h3>
            <ul>
                <li>Click the <strong>X</strong> button next to any saved view to remove it</li>
                <li>A confirmation dialog will appear before deletion</li>
            </ul>

            <div class="info-box tip">
                <strong>Tip</strong>
                <p>Saved views persist across browser sessions via Chrome storage and sync across devices signed into the same Chrome profile.</p>
            </div>

            <h2>Common Use Cases</h2>

            <h3>Field Crew Scheduling</h3>
            <p>Filter to show only INTERNAL staff with field roles to quickly check crew availability without vendor clutter.</p>

            <h3>Vendor Coordination</h3>
            <p>Toggle on only the VENDOR category to see subcontractor availability at a glance when planning upcoming work.</p>

            <h3>Project Supervisor View</h3>
            <p>Create a saved view that shows only project supervisors and leads, perfect for management meetings.</p>

            <h3>Department-Specific Views</h3>
            <p>Save views per department or trade (e.g., "Electricians", "Plumbers") for quick switching during scheduling sessions.</p>

            <h2>Tips & Best Practices</h2>

            <h3>Workflow Benefits</h3>
            <ul>
                <li>Use <strong>saved views</strong> for recurring scheduling meetings to instantly filter to the relevant crew</li>
                <li>Use <strong>"Hide All"</strong> first, then selectively enable just the people you need</li>
                <li>The <strong>count badges</strong> help you quickly see how many people are visible per category</li>
                <li>The <strong>partial state indicator</strong> (dashed border) tells you at a glance if a category has mixed selections</li>
            </ul>

            <h3>Works Well With</h3>
            <ul>
                <li><a href="dark-mode.html"><strong>Dark Mode</strong></a> - Filter panel fully supports dark theme</li>
                <li><a href="custom-theme.html"><strong>Custom Theme</strong></a> - Filter respects your RGB custom theme colors</li>
                <li><a href="freeze-header.html"><strong>Freeze Header</strong></a> - Keep headers visible while scrolling the filtered availability grid</li>
            </ul>

            <h2>Troubleshooting</h2>

            <h3>Filter Panel Not Appearing?</h3>
            <ul>
                <li>Make sure the feature is enabled in the JT Power Tools popup</li>
                <li>Verify you're on the <strong>Schedule page</strong> with <strong>Availability view</strong> selected</li>
                <li>Try refreshing the page &mdash; the filter needs the availability grid to load first</li>
                <li>Check that you have a Pro or Power User subscription active</li>
            </ul>

            <h3>Categories Not Detected?</h3>
            <ul>
                <li>The filter detects categories from the orange text headers in the availability grid</li>
                <li>If your schedule doesn't have category groupings, there may be nothing to filter</li>
                <li>Wait for the page to fully load before expanding the filter panel</li>
            </ul>

            <h3>Filters Not Persisting?</h3>
            <ul>
                <li>Filter selections are saved to Chrome sync storage automatically</li>
                <li>Make sure you're signed into Chrome for cross-device sync</li>
                <li>If storage is full, try clearing old saved views you no longer need</li>
            </ul>

            <h3>Want to Reset Everything?</h3>
            <ul>
                <li>Click <strong>"Show All"</strong> to make all assignees visible again</li>
                <li>Or disable and re-enable the feature in the popup to reset completely</li>
            </ul>

            <h2>Technical Details</h2>

            <h3>Performance</h3>
            <ul>
                <li>Uses debounced updates (300ms) to prevent excessive re-processing</li>
                <li>MutationObserver watches for DOM changes efficiently</li>
                <li>Collapse animation via CSS for smooth, GPU-accelerated transitions</li>
                <li>URL change detection for SPA navigation support</li>
            </ul>

            <h3>Compatibility</h3>
            <ul>
                <li><strong>Dark Mode</strong> - Full dark theme support with proper grey palette</li>
                <li><strong>Custom Themes</strong> - Respects CSS custom properties for RGB themes</li>
                <li><strong>Chrome & Edge</strong> - Works on both supported browsers</li>
                <li><strong>Mobile Edge</strong> - Compatible with Edge mobile extension support</li>
            </ul>

            <h2>Related Guides</h2>
            <ul>
                <li><a href="kanban-filter.html">Kanban Filtering</a> - Hide empty columns in Kanban views</li>
                <li><a href="custom-field-filter.html">Custom Field Filter</a> - Filter jobs by custom field values</li>
                <li><a href="auto-collapse.html">Auto Collapse Completed</a> - Collapse finished schedule groups</li>
                <li><a href="freeze-header.html">Freeze Header</a> - Keep headers visible while scrolling</li>
                <li><a href="installation.html">Installation & Setup</a> - Get started with JT Power Tools</li>
            </ul>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <p>JT Power Tools ‚Äî Made with love for JobTread users</p>
            <p class="disclaimer">JT Power Tools is an independent extension and is not officially affiliated with JobTread.</p>
            <div class="footer-links">
                <a href="../privacy.html">Privacy Policy</a>
                <a href="../documentation.html">Documentation</a>
                <a href="../about.html">About</a>
                <a href="https://github.com/King0lightai/JT-Power-Tools" target="_blank">GitHub</a>
                <a href="https://github.com/King0lightai/JT-Power-Tools/issues" target="_blank">Support</a>
            </div>
        </div>
    </footer>
</body>
</html>
