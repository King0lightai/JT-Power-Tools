<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contrast Fix - JT Power Tools</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/png" href="../favicon.png">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><img src="../850icon.png" alt="JT Power Tools"> JT <span>POWER TOOLS</span></h1>
                <p>Documentation & Guides</p>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../documentation.html">Docs</a>
                <a href="../index.html#pricing">Pricing</a>
                <a href="../changelog.html">Changelog</a>
                <a href="../privacy.html">Privacy</a>
                <a href="../roadmap.html">Roadmap</a>
            </div>
        </div>
    </nav>

    <div class="guide-container">
        <div class="guide-header">
            <h1><span class="icon">üé®</span> Contrast Fix</h1>
            <p class="guide-meta">Free Feature - Improve Readability with WCAG Standards</p>
        </div>

        <div class="guide-content">
            <h2>Overview</h2>
            <p>The Contrast Fix feature automatically adjusts text colors in JobTread schedule views to ensure optimal readability. Using the WCAG (Web Content Accessibility Guidelines) contrast formula, it dynamically enhances text visibility against various background colors in Month, Week, and Day schedule views.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>WCAG Compliant</strong> - Uses industry-standard contrast ratios for accessibility</li>
                <li><strong>Automatic Adjustment</strong> - Works in real-time as content changes</li>
                <li><strong>Current Date Highlighting</strong> - Makes today's date stand out in schedule views</li>
                <li><strong>Smart Detection</strong> - Analyzes background colors and adjusts text accordingly</li>
                <li><strong>No Configuration Needed</strong> - Works automatically once enabled</li>
                <li><strong>Mutually Exclusive</strong> - Automatically disabled when using Dark Mode or Custom Theme</li>
            </ul>

            <h2>Getting Started</h2>

            <h3>Prerequisites</h3>
            <ul>
                <li>JT Power Tools extension installed in Chrome</li>
                <li>Access to any JobTread page</li>
            </ul>

            <h3>Enabling the Feature</h3>
            <ol class="steps">
                <li>Click the JT Power Tools extension icon in your Chrome toolbar</li>
                <li>Locate the "Contrast Fix" toggle</li>
                <li>Toggle it ON - the switch will turn blue</li>
                <li>Navigate to any JobTread page (especially schedule views)</li>
                <li>Text colors will automatically adjust for better readability</li>
            </ol>

            <div class="info-box tip">
                <strong>Auto-Disable with Themes</strong>
                <p>Contrast Fix automatically disables when you enable Dark Mode or Custom Theme, as those features include their own contrast optimizations.</p>
            </div>

            <h2>How It Works</h2>

            <h3>WCAG Contrast Formula</h3>
            <p>The feature uses the WCAG 2.0 relative luminance formula to calculate contrast ratios:</p>
            <ol>
                <li>Detects the background color of text elements</li>
                <li>Calculates the luminance (brightness) of the background</li>
                <li>Determines the optimal text color (black or white) for maximum contrast</li>
                <li>Applies the calculated color automatically</li>
            </ol>

            <div class="info-box tip">
                <strong>What is WCAG?</strong>
                <p>The Web Content Accessibility Guidelines (WCAG) define standards for web accessibility. A contrast ratio of 4.5:1 is recommended for normal text, and 3:1 for large text.</p>
            </div>

            <h3>Real-Time Updates</h3>
            <p>Contrast Fix uses a MutationObserver to monitor the page for changes:</p>
            <ul>
                <li>Detects when new content loads (e.g., navigating between dates)</li>
                <li>Watches for color changes in existing elements</li>
                <li>Automatically recalculates and applies contrast fixes</li>
                <li>Updates within milliseconds for a seamless experience</li>
            </ul>

            <h2>Where It Works</h2>

            <h3>Schedule Views Only</h3>
            <p>Contrast Fix is specifically designed for JobTread schedule views:</p>
            <ul>
                <li><strong>Month View</strong> - Enhanced readability for monthly schedule overview</li>
                <li><strong>Week View</strong> - Clear visibility in weekly schedule layout</li>
                <li><strong>Day View</strong> - Optimal contrast for daily schedule details</li>
            </ul>

            <h3>What Gets Enhanced</h3>
            <p>Within schedule views, Contrast Fix improves:</p>
            <ul>
                <li><strong>Task Cards</strong> - Text is always readable regardless of task color</li>
                <li><strong>Date Headers</strong> - Current date highlighting with enhanced contrast</li>
                <li><strong>Time Labels</strong> - Clear visibility of time slots</li>
                <li><strong>Resource Names</strong> - Easy to read team member assignments</li>
            </ul>

            <div class="info-box tip">
                <strong>Schedule-Specific Feature</strong>
                <p>Contrast Fix does not affect other JobTread pages like Dashboard, Budget, or Jobs. It's optimized exclusively for schedule views.</p>
            </div>

            <h2>Visual Examples</h2>

            <h3>Before Contrast Fix</h3>
            <ul>
                <li>Light gray text on yellow background (hard to read)</li>
                <li>White text on light blue background (low visibility)</li>
                <li>Dark text on dark green background (poor contrast)</li>
            </ul>

            <h3>After Contrast Fix</h3>
            <ul>
                <li>Black text on yellow background (clear and readable)</li>
                <li>Black text on light blue background (high visibility)</li>
                <li>White text on dark green background (excellent contrast)</li>
            </ul>

            <h2>Current Date Highlighting</h2>

            <h3>How It Works</h3>
            <p>When viewing schedule pages, Contrast Fix adds special highlighting to today's date:</p>
            <ol>
                <li>Detects the current date from your system</li>
                <li>Finds the corresponding date cell in the schedule</li>
                <li>Applies a distinctive background color</li>
                <li>Ensures text remains readable with contrast adjustment</li>
            </ol>

            <h3>Benefits</h3>
            <ul>
                <li>Quickly orient yourself in long schedule views</li>
                <li>Never lose track of today when planning ahead</li>
                <li>Visual anchor point when scrolling through weeks or months</li>
            </ul>

            <h2>Best Practices</h2>

            <h3>When to Use Contrast Fix</h3>
            <p><strong>Ideal Scenarios:</strong></p>
            <ul>
                <li>Working in bright environments with screen glare</li>
                <li>Using custom task colors in JobTread that may have poor default contrast</li>
                <li>Team members with visual impairments or color blindness</li>
                <li>Long work sessions where eye strain is a concern</li>
                <li>Projecting schedules in meetings for better visibility</li>
            </ul>

            <h3>When Not to Use</h3>
            <p>You might prefer to disable Contrast Fix if:</p>
            <ul>
                <li>You want to use Dark Mode or Custom Theme instead</li>
                <li>You prefer JobTread's default color scheme</li>
                <li>You find the current date highlighting distracting</li>
            </ul>

            <h2>Compatibility</h2>

            <h3>Works With</h3>
            <ul>
                <li><strong>Schedule Drag & Drop</strong> - Text remains readable while dragging tasks</li>
                <li><strong>Text Formatter</strong> - Formatted text maintains good contrast</li>
                <li><strong>Smart Job Switcher</strong> - No conflicts</li>
                <li><strong>Budget Hierarchy Shading</strong> - Complements the shading feature</li>
            </ul>

            <h3>Mutually Exclusive With</h3>
            <ul>
                <li><strong>Dark Mode</strong> - Dark Mode has its own contrast optimizations</li>
                <li><strong>Custom Theme</strong> - Custom Theme includes intelligent contrast handling</li>
            </ul>

            <div class="info-box warning">
                <strong>Automatic Exclusivity</strong>
                <p>When you enable Dark Mode or Custom Theme, Contrast Fix automatically disables itself. Re-enabling Contrast Fix will disable the theme features.</p>
            </div>

            <h2>Troubleshooting</h2>

            <h3>Text Colors Not Changing</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Verify the feature is enabled in the extension popup</li>
                <li>Check that Dark Mode and Custom Theme are both disabled</li>
                <li>Refresh the JobTread page (Ctrl/Cmd + R)</li>
                <li>Clear browser cache and reload</li>
            </ul>

            <h3>Colors Look Wrong</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>The algorithm chooses either black or white for optimal contrast - this is intentional</li>
                <li>If you prefer specific colors, try Custom Theme instead</li>
                <li>Check your monitor's brightness and contrast settings</li>
            </ul>

            <h3>Current Date Not Highlighted</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Ensure you're viewing a schedule page (not dashboard or budget)</li>
                <li>Check that your system date and time are correct</li>
                <li>Try navigating to a different date and back to today</li>
                <li>Refresh the page</li>
            </ul>

            <h3>Performance Issues</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>The feature is lightweight, but if you notice slowness, try disabling it temporarily</li>
                <li>Close other browser tabs to free up resources</li>
                <li>Update Chrome to the latest version</li>
                <li>Report performance issues on GitHub with your Chrome version and system specs</li>
            </ul>

            <h2>Technical Details</h2>

            <h3>Luminance Calculation</h3>
            <p>The WCAG formula for relative luminance:</p>
            <pre><code>L = 0.2126 * R + 0.7152 * G + 0.0722 * B</code></pre>
            <p>Where R, G, and B are the linearized red, green, and blue values.</p>

            <h3>Contrast Ratio</h3>
            <p>The contrast ratio between two luminance values:</p>
            <pre><code>Contrast Ratio = (L1 + 0.05) / (L2 + 0.05)</code></pre>
            <p>Where L1 is the lighter color and L2 is the darker color.</p>

            <h3>Decision Threshold</h3>
            <p>The feature uses a luminance threshold of 0.5:</p>
            <ul>
                <li>If background luminance &gt; 0.5: Use black text</li>
                <li>If background luminance ‚â§ 0.5: Use white text</li>
            </ul>

            <h2>Accessibility Benefits</h2>

            <h3>WCAG Compliance</h3>
            <p>By using the WCAG formula, Contrast Fix helps meet accessibility standards:</p>
            <ul>
                <li><strong>Level AA</strong> - 4.5:1 contrast ratio for normal text</li>
                <li><strong>Level AAA</strong> - 7:1 contrast ratio for enhanced accessibility</li>
            </ul>

            <h3>Who Benefits</h3>
            <ul>
                <li>Users with low vision or color blindness</li>
                <li>Anyone working in bright or dim environments</li>
                <li>Users with eye strain or light sensitivity</li>
                <li>Teams creating accessible workflows</li>
            </ul>

            <h2>Related Guides</h2>
            <ul>
                <li><a href="dark-mode.html">Dark Mode</a> - Alternative theme for reducing eye strain</li>
                <li><a href="custom-theme.html">Custom Theme</a> - Create your own color scheme with contrast controls</li>
                <li><a href="budget-hierarchy.html">Budget Hierarchy Shading</a> - Works well with Contrast Fix</li>
                <li><a href="installation.html">Installation & Setup</a> - Get started with JT Power Tools</li>
            </ul>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <p>‚ö° JT Power Tools ‚Äî Made with ‚ù§Ô∏è for JobTread users</p>
            <p class="disclaimer">JT Power Tools is an independent extension and is not officially affiliated with JobTread.</p>
            <div class="footer-links">
                <a href="../privacy.html">Privacy Policy</a>
                <a href="../documentation.html">Documentation</a>
                <a href="https://github.com/King0lightai/JT-Power-Tools" target="_blank">GitHub</a>
                <a href="https://github.com/King0lightai/JT-Power-Tools/issues" target="_blank">Support</a>
            </div>
        </div>
    </footer>
</body>
</html>
