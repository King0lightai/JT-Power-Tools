<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Drag & Drop - JT Power Tools</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>‚ö° JT Power Tools</h1>
                <p>Documentation & Guides</p>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="installation.html">Installation</a>
                <a href="premium.html">Premium</a>
                <a href="../privacy.html">Privacy</a>
            </div>
        </div>
    </nav>

    <div class="guide-container">
        <div class="guide-header">
            <h1><span class="icon">üìÖ</span> Schedule Drag & Drop</h1>
            <p class="guide-meta">Premium Feature - Requires License Activation</p>
        </div>

        <div class="guide-content">
            <div class="info-box premium">
                <strong>Premium Feature</strong>
                <p>This feature requires a premium license. <a href="premium.html">Learn how to activate your license</a>.</p>
            </div>

            <h2>Overview</h2>
            <p>The Schedule Drag & Drop feature transforms how you manage your JobTread schedule by allowing you to simply drag and drop schedule items between dates. This intuitive interface eliminates the need for manual date editing and makes schedule adjustments faster and more visual.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Seamless Date Transitions</strong> - Works across month and year boundaries (e.g., December 2025 ‚Üí January 2026)</li>
                <li><strong>Multi-Year Support</strong> - Drag tasks to any future year with intelligent date detection</li>
                <li><strong>Invisible Updates</strong> - Dates update automatically in the background without disrupting your workflow</li>
                <li><strong>Visual Feedback</strong> - Drop zones highlight to show where you can place tasks</li>
                <li><strong>Task Preservation</strong> - All task details and assignments remain intact during moves</li>
                <li><strong>Weekend Override</strong> - Hold Shift to drag tasks to weekend dates</li>
                <li><strong>End Date Control</strong> - Hold Alt to change task end dates instead of start dates</li>
            </ul>

            <h2>Getting Started</h2>

            <h3>Prerequisites</h3>
            <ul>
                <li>JT Power Tools extension installed in Chrome</li>
                <li>Active premium license</li>
                <li>Schedule Drag & Drop feature enabled in extension popup</li>
                <li>Access to JobTread schedule view</li>
            </ul>

            <h3>Enabling the Feature</h3>
            <ol class="steps">
                <li>Click the JT Power Tools extension icon in your Chrome toolbar</li>
                <li>Locate the "Schedule Drag & Drop" toggle (marked with Premium badge)</li>
                <li>Toggle it ON - the switch will turn blue</li>
                <li>Navigate to your JobTread schedule page</li>
                <li>The feature is now active and ready to use</li>
            </ol>

            <h2>How to Use</h2>

            <h3>Basic Drag & Drop</h3>
            <ol class="steps">
                <li>
                    <strong>Navigate to Schedule</strong><br>
                    Go to any schedule view in JobTread (day, week, or month view)
                </li>
                <li>
                    <strong>Click and Hold</strong><br>
                    Click on any schedule item and hold the mouse button down. The task will follow your cursor.
                </li>
                <li>
                    <strong>Drag to Target Date</strong><br>
                    Move your mouse to the date cell where you want to move the task. You'll see the drop zone highlight.
                </li>
                <li>
                    <strong>Drop the Task</strong><br>
                    Release the mouse button to drop the task. The start date updates automatically!
                </li>
            </ol>

            <div class="info-box tip">
                <strong>Pro Tip</strong>
                <p>You can drag tasks across multiple months and even years. The extension intelligently calculates the correct date based on the calendar context.</p>
            </div>

            <h3>Advanced Techniques</h3>

            <h4>Dragging to Weekends</h4>
            <p>By default, JobTread prevents scheduling on weekends. To override this:</p>
            <ol class="steps">
                <li>Hold down the <span class="kbd">Shift</span> key</li>
                <li>While holding Shift, drag the task to a Saturday or Sunday</li>
                <li>Drop the task - it will now be scheduled on the weekend</li>
            </ol>

            <div class="info-box tip">
                <strong>Weekend Detection</strong>
                <p>The extension automatically detects weekend dates and provides visual feedback when the Shift override is active.</p>
            </div>

            <h4>Changing End Dates</h4>
            <p>Instead of moving the start date, you can change when a task ends:</p>
            <ol class="steps">
                <li>Hold down the <span class="kbd">Alt</span> key (Option on Mac)</li>
                <li>While holding Alt, drag the task to the desired end date</li>
                <li>Drop the task - the end date updates while start date stays the same</li>
            </ol>

            <h3>Working Across Year Boundaries</h3>
            <p>One of the most powerful features is seamless year transitions:</p>

            <h4>Example: December to January</h4>
            <ol class="steps">
                <li>View your December 2025 schedule</li>
                <li>Drag a task from December 30, 2025</li>
                <li>Navigate to January 2026 (or drag while viewing both months)</li>
                <li>Drop on January 5, 2026</li>
                <li>The task automatically updates to January 5, 2026</li>
            </ol>

            <div class="info-box tip">
                <strong>Smart Year Detection</strong>
                <p>The extension uses the source task's date as a baseline and intelligently infers the correct year for the target date, even when viewing different months or years.</p>
            </div>

            <h2>Visual Feedback</h2>

            <h3>Drop Zone Highlighting</h3>
            <p>When dragging a task, valid drop zones are highlighted with visual cues:</p>
            <ul>
                <li><strong>Blue Border</strong> - Valid drop zone for regular weekdays</li>
                <li><strong>Orange Border</strong> - Weekend date (requires Shift key)</li>
                <li><strong>Hover Effect</strong> - Drop zone brightens when hovering over it</li>
            </ul>

            <h3>Drag Preview</h3>
            <p>While dragging, you'll see:</p>
            <ul>
                <li>The task card following your cursor</li>
                <li>Reduced opacity to indicate it's being moved</li>
                <li>Cursor changes to indicate valid/invalid drop zones</li>
            </ul>

            <h2>Best Practices</h2>

            <h3>Efficient Workflow Tips</h3>
            <ol>
                <li><strong>Multi-Month View</strong> - Use split or multi-week views to drag across longer date ranges without scrolling</li>
                <li><strong>Keyboard Modifiers</strong> - Learn the Shift and Alt shortcuts to speed up your workflow</li>
                <li><strong>Check Dependencies</strong> - Before moving tasks, verify there are no critical dependencies with other tasks</li>
                <li><strong>Verify Updates</strong> - After dropping, briefly check the task details to confirm the date changed correctly</li>
            </ol>

            <h3>Common Use Cases</h3>

            <h4>Rescheduling Due to Weather</h4>
            <p>Quickly reschedule outdoor tasks by dragging them to the next available good weather day.</p>

            <h4>Resource Conflicts</h4>
            <p>When team members are double-booked, drag tasks to different days to resolve conflicts visually.</p>

            <h4>Project Delays</h4>
            <p>If a project phase is delayed, drag all subsequent tasks forward by a week or more.</p>

            <h4>Seasonal Planning</h4>
            <p>Move tasks across months when planning seasonal projects (e.g., moving exterior work from winter to spring).</p>

            <h2>Troubleshooting</h2>

            <h3>Task Won't Drag</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Verify the feature is enabled in the extension popup</li>
                <li>Refresh the JobTread page</li>
                <li>Check that your premium license is active</li>
                <li>Make sure you're clicking directly on the task card, not a button or link within it</li>
            </ul>

            <h3>Date Doesn't Update</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Ensure you dropped the task in a valid date cell (highlighted zone)</li>
                <li>Check your internet connection - updates require connectivity</li>
                <li>Open browser console (F12) to check for any error messages</li>
                <li>Try refreshing the page and attempting the drag again</li>
            </ul>

            <h3>Wrong Year Detected</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>The extension uses the source date as a reference - if dragging from December 2025 to a January, it assumes January 2026</li>
                <li>If the year is wrong, manually edit the date in the task details as a fallback</li>
                <li>Report the specific scenario to help improve the algorithm</li>
            </ul>

            <h3>Can't Drag to Weekends</h3>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Hold the <span class="kbd">Shift</span> key while dragging</li>
                <li>Keep Shift held until you drop the task</li>
                <li>If it still doesn't work, check if JobTread has weekend restrictions enabled for your account</li>
            </ul>

            <h2>Keyboard Shortcuts Reference</h2>
            <table>
                <thead>
                    <tr>
                        <th>Key</th>
                        <th>Function</th>
                        <th>Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="kbd">Shift</span></td>
                        <td>Weekend Override</td>
                        <td>Hold while dragging to allow weekend drops</td>
                    </tr>
                    <tr>
                        <td><span class="kbd">Alt</span></td>
                        <td>End Date Mode</td>
                        <td>Hold while dragging to change end date instead of start date</td>
                    </tr>
                    <tr>
                        <td><span class="kbd">Esc</span></td>
                        <td>Cancel Drag</td>
                        <td>Press while dragging to cancel and return task to original position</td>
                    </tr>
                </tbody>
            </table>

            <h2>Technical Details</h2>

            <h3>How It Works</h3>
            <p>The extension works by:</p>
            <ol>
                <li>Detecting schedule items in the JobTread DOM</li>
                <li>Making them draggable while preserving JobTread's functionality</li>
                <li>Identifying date cells as valid drop zones</li>
                <li>Calculating the target date based on the drop zone's position</li>
                <li>Intelligently inferring the year using the source date context</li>
                <li>Updating the task date through JobTread's API invisibly</li>
                <li>Refreshing the display to show the updated schedule</li>
            </ol>

            <h3>Date Calculation Algorithm</h3>
            <p>The extension uses a smart algorithm for year detection:</p>
            <ul>
                <li>Reads the source task's current date (including year)</li>
                <li>Identifies the target month from the calendar view</li>
                <li>Compares source and target months to infer year transitions</li>
                <li>Accounts for December ‚Üí January transitions automatically</li>
                <li>Validates the final date to ensure it's reasonable</li>
            </ul>

            <h2>Limitations & Known Issues</h2>
            <ul>
                <li>Default behavior only changes start dates (use Alt for end dates)</li>
                <li>Cannot currently drag multiple tasks simultaneously</li>
                <li>Requires active internet connection for date updates</li>
                <li>Some complex task dependencies may need manual verification after moving</li>
            </ul>

            <div class="info-box tip">
                <strong>Have Feedback?</strong>
                <p>We'd love to hear how you use drag & drop! <a href="https://github.com/King0lightai/JT-Power-Tools/issues" target="_blank">Share your ideas on GitHub</a>.</p>
            </div>

            <h2>Related Guides</h2>
            <ul>
                <li><a href="premium.html">Premium Features & Licensing</a> - Learn how to activate your license</li>
                <li><a href="installation.html">Installation & Setup</a> - Get started with JT Power Tools</li>
                <li><a href="contrast-fix.html">Contrast Fix</a> - Improve schedule readability</li>
            </ul>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <p>&copy; 2025 JT Power Tools. Made with ‚ù§Ô∏è for JobTread users.</p>
            <p class="disclaimer">JT Power Tools is an independent extension and is not officially affiliated with JobTread.</p>
            <div class="footer-links">
                <a href="../privacy.html">Privacy Policy</a>
                <a href="https://github.com/King0lightai/JT-Power-Tools" target="_blank">GitHub</a>
                <a href="https://lightking7.gumroad.com/l/jtpowertools" target="_blank">Gumroad</a>
            </div>
        </div>
    </footer>
</body>
</html>
