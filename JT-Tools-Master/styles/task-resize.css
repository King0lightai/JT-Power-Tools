/* === Task Card Resize Feature === */
/* Solid bar handle on right edge of task cards for extending end dates */

.jt-task-resize-handle {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 6px;
    cursor: ew-resize !important;
    opacity: 0;
    transition: opacity 0.2s, width 0.15s, background 0.15s;
    background: rgba(59, 130, 246, 0.6); /* Blue to match preview */
    z-index: 100;
    pointer-events: auto !important;
    user-select: none;
}

/* Show resize handle on hover over task card */
div.cursor-pointer[style*="background-color"]:hover .jt-task-resize-handle {
    opacity: 0.8;
    background: rgba(59, 130, 246, 0.7);
}

/* Brighten handle when hovering directly over it */
.jt-task-resize-handle:hover {
    opacity: 1 !important;
    width: 8px;
    background: rgb(59, 130, 246) !important; /* Solid blue */
    box-shadow: -2px 0 4px rgba(0, 0, 0, 0.3);
}

/* Keep visible and bright during resize */
.jt-task-resizing .jt-task-resize-handle {
    opacity: 1 !important;
    width: 8px;
    background: rgb(59, 130, 246) !important; /* Solid blue */
}

/* Preview cells during resize - highlight in blue */
.jt-resize-preview {
    background-color: rgba(59, 130, 246, 0.2) !important;
    border: 2px dashed rgb(59, 130, 246) !important;
    box-shadow: inset 0 0 8px rgba(59, 130, 246, 0.3);
    position: relative;
}

/* Add arrow indicator on first preview cell */
.jt-resize-preview:first-child::after {
    content: 'â†’ Drag right to extend';
    position: absolute;
    bottom: 2px;
    left: 2px;
    font-size: 10px;
    font-weight: bold;
    color: rgb(59, 130, 246);
    background: rgba(255, 255, 255, 0.9);
    padding: 2px 4px;
    border-radius: 3px;
    pointer-events: none;
    white-space: nowrap;
    z-index: 10;
}

/* Make task transparent to pointer events during resize so we can detect cells underneath */
.jt-task-resizing {
    opacity: 0.6;
    z-index: 1000;
    pointer-events: none !important;
}

/* But keep the resize handle interactive */
.jt-task-resizing .jt-task-resize-handle {
    pointer-events: auto !important;
}

/* Prevent pointer events on all task content during resize */
.jt-task-resizing * {
    pointer-events: none !important;
}

/* Except the resize handle */
.jt-task-resizing .jt-task-resize-handle {
    pointer-events: auto !important;
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
    .jt-task-resize-handle {
        background: rgba(255, 255, 255, 0.6);
    }

    div.cursor-pointer[style*="background-color"]:hover .jt-task-resize-handle {
        background: rgba(255, 255, 255, 0.8);
    }

    .jt-task-resize-handle:hover,
    .jt-task-resizing .jt-task-resize-handle {
        background: rgba(255, 255, 255, 1) !important;
    }

    .jt-resize-preview:first-child::after {
        background: rgba(30, 30, 30, 0.9);
        color: white;
    }
}
